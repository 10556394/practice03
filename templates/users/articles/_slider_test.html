{% extends 'users/base.html' %}


{% block content %}
  {% include 'users/articles/menu.html' %}
  <div id="content">
    {% include 'users/articles/my_left.html' %}
    <div id="main">
      <p class="page_title">{{ username }}のプロフィール</p>
      <input type="hidden" class="slider-input" value="10" />
      <div id="article">

        <form class="post-form-to-edit-portfolio" action="javascript:void(0)" method="post" enctype="multipart/form-data">

          {% for form in forms %}
            {{ form.label }}<br>
            {% if 'Ability' in form.label %}
              <div class="invisible">{{ form }}</div>
            {% else %}
              {{ form }}
            {% endif %}

            {% if 'Ability' in form.label %}
              <!--<input id="ability_slider{{ forloop.counter }}" class="input_range_for_profile" type="range" name="{{ form.label }}" min=0 max=10 step=1 list="tlist{{ forloop.counter }}"
                oninput="document.getElementById('ability_output{{ forloop.counter }}').value=this.value" > //-->
              <span id="for_get_target_id{{ forloop.counter }}" class="invisible">{{ form.name }}</span>
              <input id="ability_slider{{ forloop.counter }}" class="input_range_for_profile" type="range" name="{{ form.label }}" min=0 max=10 step=1 list="tlist{{ forloop.counter }}">
              <canvas class="slider_line_canvas_zone" id="canvas_zone{{ forloop.counter }}" width=700 height=25></canvas>
              <output class="ability_output_number" id="ability_output{{ forloop.counter }}">{{ form.value }}</output>

              <!-- メモリ線 //-->
              <datalist id="tlist{{ forloop.counter }}" >
                {% with ''|center:10 as range %}
                  {% for _ in range %}
                    <option value="{{ forloop.counter }}" label="{{ forloop.counter }}"></option>
                  {% endfor %}
                {% endwith %}
              </datalist>

            {% endif %}


            <!-- バリデーションエラーが発生した場合、エラーメッセージを表示 //-->
            {% if form.errors %}
              {{ form.errors }}<br>
            {% endif %}
            <br><br>
          {% endfor %}

          {% csrf_token %}
          <input type="submit" name="" value="保存">
          <div class="delete_button_box">
            <p class="delete_button"><a href="{% url 'users:profile_delete' username %}">削除</a></p>
          </div>
        </form>
      </div>
    </div>
    <div id="right"></div>
  </div>

{% endblock content %}